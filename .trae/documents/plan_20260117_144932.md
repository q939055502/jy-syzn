# 清理和修正计划

## 一、文件清理

### 1. 删除冗余文件
- **删除**：`d:\Projects\jy_syzn\app\services\detection\guides.py` - 检测指南服务文件
- **删除**：`d:\Projects\jy_syzn\app\routes\detection\guides.py` - 检测指南路由文件
- **删除**：所有与检测指南相关的视图和模板文件

### 2. 清理服务文件
- **修正**：`d:\Projects\jy_syzn\app\services\detection\detection_param_service.py` - 移除所有与检测指南相关的代码
  - 删除 `guide_ids` 参数处理
  - 移除 DetectionGuide 相关的导入和引用
- **删除**：DetectionGuideService 类

### 3. 清理路由文件
- **修正**：`d:\Projects\jy_syzn\app\routes\detection\params.py` - 移除检测指南相关路由

## 二、修正检测参数服务文件

### 1. detection_param_service.py 修正
- **移除**：所有与检测指南相关的代码
  - `guide_ids` 参数处理
  - DetectionGuide 相关代码
- **添加**：新字段的处理（如采样图片和视频路径）

### 2. 模型关联修正
- **移除**：与 DetectionGuide 相关的所有引用

## 三、修正路由文件
- **删除**：所有与检测指南相关的路由

## 四、清理数据库操作
- **移除**：所有与检测指南相关的数据库操作

## 五、最终检查
- 确保所有 DetectionGuide 相关的代码都已移除
- 确保所有与检测参数相关的代码中不再引用 `guide_ids`

## 执行步骤

1. **清理 detection_param_service.py**
   - 移除所有与 guide_ids 相关的代码
   - 移除 DetectionGuide 相关的导入

2. **清理 params.py 路由文件**
   - 删除所有与检测指南相关的路由

3. **删除冗余文件**
   - 删除 guides.py 文件
   - 删除所有与检测指南相关的模板和视图

4. **检查所有文件**
   - 确保没有遗漏的 DetectionGuide 相关代码

## 六、最终验证
- 运行测试，确保所有 DetectionGuide 相关的代码都已清理干净
- 确保检测参数服务正常工作，没有引用检测指南的代码
