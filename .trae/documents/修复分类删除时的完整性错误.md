# 问题分析

**当前问题**：系统中部分删除操作返回204 No Content，而用户删除操作返回200 OK并带有友好消息，导致系统返回格式不一致，影响前端开发体验。

**具体表现**：
- 用户删除：返回200 OK，带有 `{"code": 0, "message": "用户删除成功", "data": null}` 格式
- 检测项目组删除：返回204 No Content，无任何消息
- 分类删除：返回204 No Content，无任何消息
- 检测指南删除：返回204 No Content，无任何消息
- 模板删除：返回204 No Content，无任何消息
- 检测项目删除：返回204 No Content，无任何消息
- 检测项目与指南关联删除：返回204 No Content，无任何消息

# 解决方案

**统一删除操作返回格式**：所有删除操作均返回200 OK，并使用 `ResponseModel` 封装带有友好消息的响应。

**修改计划**：

## 1. 修改检测指南删除路由
**文件**：`d:\Projects\jy_syzn\app\routes\detection\guides.py`
**修改内容**：将 `@router.delete("/guides/{guide_id}", status_code=204)` 改为 `@router.delete("/guides/{guide_id}", response_model=ResponseModel)`，并返回 `ResponseModel(message="删除检测指南成功")`

## 2. 修改模板删除路由
**文件**：`d:\Projects\jy_syzn\app\routes\detection\templates.py`
**修改内容**：将 `@router.delete("/templates/{template_id}", status_code=204)` 改为 `@router.delete("/templates/{template_id}", response_model=ResponseModel)`，并返回 `ResponseModel(message="删除模板成功")`

## 3. 修改检测项目删除路由
**文件**：`d:\Projects\jy_syzn\app\routes\detection\items.py`
**修改内容**：
- 将 `@router.delete("/items/{item_id}", status_code=204)` 改为 `@router.delete("/items/{item_id}", response_model=ResponseModel)`，并返回 `ResponseModel(message="删除检测项目成功")`
- 将 `@router.delete("/items/{item_id}/guides/{guide_id}", status_code=204)` 改为 `@router.delete("/items/{item_id}/guides/{guide_id}", response_model=ResponseModel)`，并返回 `ResponseModel(message="移除检测项目与指南的关联成功")`

# 预期效果

1. **一致性**：所有删除操作均返回相同格式的响应，便于前端统一处理
2. **友好性**：返回清晰的成功消息，便于前端显示给用户
3. **可扩展性**：使用 `ResponseModel` 封装，便于未来扩展返回字段
4. **符合RESTful规范**：成功的删除操作返回200 OK是合理的，尤其是当需要返回额外信息时

# 实施步骤

1. 依次修改上述4个文件中的删除路由
2. 确保所有修改后的路由都使用 `ResponseModel` 返回友好消息
3. 测试修改后的删除操作，确保返回格式正确

通过这次修改，将统一整个系统的删除操作返回格式，提高系统的一致性和用户体验。