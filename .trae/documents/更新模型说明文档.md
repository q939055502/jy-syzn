# 更新模型说明文档

## 问题分析

当前的 `模型说明.md` 文件与实际代码结构不一致，主要问题包括：
1. 检测指南（DetectionGuide）模型已被合并到检测参数（DetectionParam）模型中
2. 表关系图可能过时
3. 多对多中间表的实现方式已改变
4. 模型的关系定义和字段可能已更新

## 解决方案

### 1. 更新模型概述
- 重新描述六个核心模型（Category、DetectionObject、DetectionStandard、DetectionItem、DetectionParam、DelegationFormTemplate）
- 说明模型的目录结构（detection/ 和 user/ 子目录）

### 2. 更新表关系图
- 根据实际代码重新绘制表关系图
- 反映 DetectionParam 合并 DetectionGuide 的变化
- 正确表示多对多关系（使用中间表模型而非 Table 对象）

### 3. 详细关系说明
- 更新每个模型的详细关系说明
- 说明 DetectionParam 包含检测指南相关字段
- 正确描述多对多关系的实现

### 4. 模型文件列表
- 更新模型文件列表，确保与实际文件结构一致
- 说明 associations.py 中的中间表模型

### 5. 核心功能
- 更新核心功能描述，反映当前模型的实际功能

### 6. 使用示例
- 更新使用示例，确保与实际代码一致

## 更新后的模型结构

### 检测相关模型
1. **Category** - 分类表
2. **DetectionObject** - 检测对象表
3. **DetectionItem** - 检测项目表
4. **DetectionParam** - 检测参数表（包含检测指南字段）
5. **DetectionStandard** - 检测规范表
6. **DelegationFormTemplate** - 委托单模板表

### 用户相关模型
1. **User** - 用户表
2. **Role** - 角色表
3. **Permission** - 权限表
4. **Resource** - 资源表
5. **Action** - 动作表
6. **Scope** - 范围表

### 多对多中间表
1. **DetectionParamStandard** - 检测参数与检测规范的多对多关系表
2. **DetectionParamTemplate** - 检测参数与委托单模板的多对多关系表
3. 用户模块的多对多中间表（user_roles, role_permissions等）

## 执行步骤

1. 重新编写模型说明.md文件
2. 更新模型概述和表关系图
3. 详细描述每个模型的结构和关系
4. 更新模型文件列表
5. 更新核心功能和使用示例
6. 确保文档与实际代码一致

## 预期结果

- 模型说明.md文件与实际代码结构完全一致
- 清晰描述模型之间的关系
- 正确反映 DetectionParam 包含检测指南字段的变化
- 提供准确的使用示例

## 文件修改

- `d:\Projects\jy_syzn\app\models\模型说明.md` - 更新模型说明文档