## 实现步骤

1. **修改关联表结构**
   - 将`detection_item_guide`从Table对象转换为完整的`DetectionItemGuide`模型类
   - 添加组批规则相关字段：`batch_size`、`batch_unit`、`sample_quantity_per_batch`、`sample_size_min`、`sample_size_max`、`sample_size_unit`
   - 添加`is_main`字段标记主指南

2. **更新模型关系**
   - 修改`DetectionItem`和`DetectionGuide`模型中的关系定义，使用新的`DetectionItemGuide`模型
   - 添加直接访问关联表属性的关系

3. **更新服务层逻辑**
   - 修改检测指南相关服务方法，处理组批规则的CRUD操作
   - 确保在创建/更新检测指南时正确处理组批规则

4. **更新API端点**
   - 调整相关API端点以支持新的组批规则结构
   - 确保组批规则在API响应中正确返回

5. **更新文档**
   - 修改`detection/models/README.md`，更新关系图和详细说明
   - 修改`API_DOCUMENTATION.md`，更新检测项目和检测指南相关接口的请求/响应示例

## 具体文件修改

1. **`app/models/associations.py`**
   - 将`detection_item_guide` Table转换为`DetectionItemGuide`模型类
   - 添加组批规则字段

2. **`app/models/detection/detection_item.py`**
   - 更新`guides`关系定义
   - 添加`item_guides`关系直接访问关联表
   - 更新`to_dict`方法，移除旧的组批规则字段引用

3. **`app/models/detection/detection_guide.py`**
   - 更新`items`关系定义
   - 添加`guide_items`关系直接访问关联表

4. **`app/services/detection/detection_guide_service.py`**
   - 更新创建、更新、删除方法，处理组批规则

5. **`detection/models/README.md`**
   - 更新关系图，显示组批规则在关联表中
   - 更新检测项目和检测指南的关系说明

6. **`API_DOCUMENTATION.md`**
   - 更新检测指南相关接口的请求/响应示例
   - 更新样品规则查询和送检要求计算接口

## 数据库操作
由于当前数据库是测试环境，可以直接删除并重建表，无需数据迁移。